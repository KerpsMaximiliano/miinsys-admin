<mat-drawer-container class="example-container sidenav-scrollbar sidenav-menu animate" autosize>
    <mat-drawer #sidenav mode="side"  disableClose="true" opened="true" class="animate"
          [style.background-color]="colours.backgroundColorDark" [ngClass]="{'w-1/2 sm:w-1/3 lg:w-1/5' : isExpanded, 'w-16' : !isExpanded}" (transitionend)="transitionEnd($event)">
         <div class="logout-button" *ngIf="isExpanded"><button mat-button matTooltip="Cerrar sesión" (click)="logout()"><mat-icon style="color:white">logout</mat-icon></button></div>
         <div>
            <img alt="" style="margin: 2rem auto;" [src]="imgSrc == '' ? '/assets/images/user-photo.jpg' : imgSrc" class="rounded-full" [ngClass]="{'h-36' : isExpanded, 'h-8' : !isExpanded}">
            <h2 class="text-center text-white" *ngIf="isExpanded">{{username}}</h2>
         </div>
         <mat-list>
            <mat-accordion class="mat-accordion-example">
                <mat-expansion-panel class="mat-elevation-z0" [style.background-color]="colours.backgroundColorDark" [expanded]="openedExpansion[1]" (closed)="openedExpansion[1] = false" (opened)="openedExpansion[1] = true" [hideToggle]="isExpanded ? false : true" [ngClass]="{'minimized' : !isExpanded}">
                    <mat-expansion-panel-header style="padding-left: 1rem;" [matTooltip]="isExpanded ? '' : 'Dashboard'">
                        <mat-panel-title class="nav-item-color" style="font-size: 16px;">
                            <mat-icon class="mr-4">insert_chart</mat-icon><div *ngIf="isExpanded">Dashboard</div>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/dashboard/usabilidad'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Usabilidad'"> <mat-icon class="mr-4" style="color: #F2B111 !important">bar_chart</mat-icon> <div *ngIf="isExpanded">Usabilidad</div> </mat-list-item>
                    <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/dashboard/cumplimiento'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Cumplimiento'"> <mat-icon class="mr-4" style="color: #F9DBBD !important">bar_chart</mat-icon> <div *ngIf="isExpanded">Cumplimiento</div> </mat-list-item>
                    <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/dashboard/gestion'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Gestión'"> <mat-icon class="mr-4" style="color: #A4A5A4 !important">bar_chart</mat-icon> <div *ngIf="isExpanded">Gestión</div> </mat-list-item>
                </mat-expansion-panel>
            </mat-accordion>
            <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/respuestas'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Checklist Digital'"> <mat-icon class="mr-4">check_box</mat-icon> <div *ngIf="isExpanded">Checklist Digital</div> </mat-list-item>
            <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/planificacion'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Planificación'"> <mat-icon class="mr-4">calendar_month</mat-icon> <div *ngIf="isExpanded">Planificación</div> </mat-list-item>
            <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/gestion-incidencias'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Gestión de Incidencias'"> <mat-icon class="mr-4">manage_accounts</mat-icon> <div *ngIf="isExpanded">Gestión de Incidencias</div> </mat-list-item>
            <mat-accordion class="mat-accordion-example" *ngIf="rolUsuario != 3">
                <mat-expansion-panel class="mat-elevation-z0" [style.background-color]="colours.backgroundColorDark" [expanded]="openedExpansion[0]" (closed)="openedExpansion[0] = false" (opened)="openedExpansion[0] = true" [hideToggle]="isExpanded ? false : true" [ngClass]="{'minimized' : !isExpanded}">
                    <mat-expansion-panel-header style="padding-left: 1rem;" [matTooltip]="isExpanded ? '' : 'Administración'">
                        <mat-panel-title class="nav-item-color" style="font-size: 16px;">
                            <mat-icon class="mr-4">work</mat-icon><div *ngIf="isExpanded">Administración</div>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div [ngClass]="{'pl-0' : !isExpanded}">
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/empresa'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Empresas'" *ngIf="rolUsuario != 2"> <mat-icon class="mr-4">work</mat-icon><div *ngIf="isExpanded">Empresas</div>  </mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/usuario'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Usuarios'"> <mat-icon class="mr-4">face</mat-icon> <div *ngIf="isExpanded">Usuarios</div></mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/cuestionario'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Formularios'"> <mat-icon class="mr-4">quiz</mat-icon><div *ngIf="isExpanded">Formularios</div>  </mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/actividad'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Actividad Planificada'"> <mat-icon class="mr-4">settings_accessibility</mat-icon><div *ngIf="isExpanded">Actividad Planificada</div>  </mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/acciones'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Acción incidencias'"> <mat-icon class="mr-4">bolt</mat-icon><div *ngIf="isExpanded">Acción incidencias</div>  </mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/lista-datos'" (click)="closeNav()" [matTooltip]="isExpanded ? '' : 'Lista de Datos'"> <mat-icon class="mr-4">view_timeline</mat-icon><div *ngIf="isExpanded">Lista de Datos</div>  </mat-list-item>
                        <mat-list-item class="nav-item-color hover:cursor-pointer" [routerLink]="'/dashboard/turno-jornada'" (click)="closeNav()" *ngIf="false"> <mat-icon class="mr-4"><div *ngIf="isExpanded">ABM Turno/Jornada</div>hourglass_top</mat-icon>  </mat-list-item>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </mat-list>
    </mat-drawer>

    <mat-drawer-content class="animate">
        <div class="h-20" [style.background-color]="colours.backgroundColor">
            <div class="flex flex-row flex-0 items-center justify-between p-6 py-8 px-10 border-b bg-card dark:bg-transparent h-full">
                <button mat-button (click)="isExpanded = !isExpanded" class="h-20" style="margin-left: -2rem; padding: 0;"><img src="/assets/images/logos/Logo_Miinsys_B&W.png" alt="" class="h-2/3" style="margin: 0; padding: 0; scale: 1.3; margin-right: 1rem;"></button>
                <div class="flex-1 min-w-0 ">
                    <div>
                        <div class="flex flex-wrap items-center font-medium">
                            <div>
                                <a class="whitespace-nowrap text-primary-500" style="color: white" id="dashboard">Dashboard</a>
                            </div>
                            <div class="flex items-center ml-1 whitespace-nowrap">
                                <mat-icon role="img" class="mat-icon notranslate icon-size-5 text-secondary mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="chevron-right" data-mat-icon-namespace="heroicons_solid">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="white" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" focusable="false">
                                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                </mat-icon>
                                <span class="ml-1 text-secondary" style="color: white">{{seccionActual}}</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <span class="text-xl md:text-2xl font-extrabold tracking-tight leading-7 sm:leading-10" style="color: white">{{titulo}}</span>
                    </div>
                </div>
                <div class="flex shrink-0 items-center mt-0 ml-4 sm:ml-4" *ngIf="botonExtra">
                    <button mat-flat-button="" class="mat-focus-indicator mat-flat-button mat-button-base mat-accent" style="border-radius: 2rem;;" [style.background-color]="colours.mainButtonColor"  [routerLink]="'/dashboard/usuario/carga-masiva'">
                        <span class="mat-button-wrapper">
                            Carga masiva
                        </span>
                        <span matripple="" class="mat-ripple mat-button-ripple"></span>
                        <span class="mat-button-focus-overlay"></span>
                    </button>
                </div>
                <div class="flex shrink-0 items-center mt-0 ml-4 sm:ml-4" *ngIf="nombreBoton != ''">
                    <button mat-flat-button="" class="mat-focus-indicator mat-flat-button mat-button-base mat-accent" style="border-radius: 2rem;;" [style.background-color]="colours.mainButtonColor"  (click)="buttonAction()">
                        <span class="mat-button-wrapper">
                            {{nombreBoton}}
                        </span>
                        <span matripple="" class="mat-ripple mat-button-ripple"></span>
                        <span class="mat-button-focus-overlay"></span>
                    </button>
                </div>
                <div class="flex shrink-0 items-center mt-0 ml-4 sm:ml-4" *ngIf="showBackButton">
                    <button mat-flat-button="" class="mat-focus-indicator mat-flat-button mat-button-base mat-accent" style="border-radius: 2rem; background-color: white;" [style.color]="colours.mainButtonColor" [style.border]="'2px solid ' + colours.mainButtonColor" (click)="backButton()">
                        <span class="mat-button-wrapper">
                            Volver
                        </span>
                        <span matripple="" class="mat-ripple mat-button-ripple"></span>
                        <span class="mat-button-focus-overlay"></span>
                    </button>
                </div>
                <div class="flex" *ngIf="false">
                    <div class="pt-2 ml-4 cursor-pointer notification-button">
                        <mat-icon [matBadge]="notificaciones.length" matBadgeColor="accent" (click)="showNotifications = !showNotifications">notifications</mat-icon>
                        <div *ngIf="showNotifications" class="cursor-default flex flex-col">
                            <span *ngFor="let notificacion of notificaciones; let i = index" class="mb-2">{{notificacion}}<hr class="mt-2" *ngIf="i < notificaciones.length - 1"></span>
                        </div>
                    </div>
                 </div>
            </div>
        </div>
        <div class="content-scroll">
            <router-outlet (activate)="componentAdded($event)"></router-outlet>
        </div>
    </mat-drawer-content>
</mat-drawer-container>