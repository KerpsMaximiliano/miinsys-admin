<div class="flex w-full">
    <div class="flex flex-col w-2/3 pr-8 pl-8 mb-4">
        <form [formGroup]="cargaForm">
            <mat-form-field class="w-full mt-8">
                <mat-label>Empresa asociada</mat-label>
                <mat-icon mat-icon matPrefix class="mr-4">
                    business_center
                </mat-icon>
                <mat-select formControlName="empresa" (selectionChange)="empresaChange($event)">
                    <mat-option *ngFor="let empresa of empresas" [value]="empresa.id">{{empresa.descripcion}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full mt-8">
                <mat-label>Planta</mat-label>
                <mat-icon mat-icon matPrefix class="mr-4">
                    factory
                </mat-icon>
                <mat-select formControlName="planta">
                    <mat-option *ngFor="let planta of plantas" [value]="planta.id_planta">
                      {{planta.descripcion}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full mt-8">
                <mat-label>Estado</mat-label>
                <mat-icon mat-icon matPrefix class="mr-4">
                    assignment_turned_in
                </mat-icon>
                <mat-select formControlName="estado">
                    <mat-option *ngFor="let estado of estados" [value]="estado.id">{{estado.descripcion}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full mt-8">
                <mat-label>Contraseña</mat-label>
                <mat-icon mat-icon matPrefix class="mr-4">
                    lock
                </mat-icon>
                <mat-icon mat-icon matSuffix class="mr-4" matTooltip="Mínimo 8 caracteres, al menos una letra y un número">
                    info
                </mat-icon>
                <mat-icon mat-icon matSuffix class="mr-4 cursor-pointer" matTooltip="Generar contraseña" (click)="generatePassword()">
                    sync
                </mat-icon>
                <input matInput type="text" name="contraseña" formControlName="contraseña">
            </mat-form-field>
        </form>
    </div>
    <div class="flex flex-col w-1/3 pr-8 pl-8 mt-8">
        <div class="w-full mb-8">
            <button mat-button class="w-full text-white" type="button" [style.background-color]="colours.mainButtonColor" (click)="downloadTemplate()">Descargar template</button>
        </div>
        <div class="w-full">
            <button mat-button class="w-full text-white" type="button" [style.background-color]="colours.mainButtonColor" (click)="uploadCsv()" [disabled]="cargaForm.invalid">Subir .xlsx</button>
        </div>
    </div>
</div>
<div class="flex flex-col w-2/3" *ngIf="errores.length > 0">
    <div class="flex w-full pr-8 pl-8 mb-4">
        <mat-card class="w-full" style="background-color: rgb(224, 126, 126);">
            <mat-card-content class="text-center">
                <mat-list role="list">
                    <mat-list-item role="listitem" *ngFor="let error of errores">{{error}}</mat-list-item>
                </mat-list>
            </mat-card-content>
          </mat-card>
    </div>
</div>
